<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>SRO Intelligence</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <!-- Map + Styles -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="">
  <link rel="stylesheet" href="style.css" />
  <style>
    /* Minimal styles to ensure chips/cards look sane even if style.css differs */
    body { margin:0; background:#0b0f14; color:#e9eef5; font-family:-apple-system, Segoe UI, Roboto, sans-serif; }
    header { display:flex; align-items:center; justify-content:space-between; padding:12px 16px; border-bottom:1px solid #1e2a38; }
    .brand { font-weight:700; letter-spacing:0.3px; }
    .tabs { display:flex; gap:8px; }
    .region-tab { padding:8px 10px; border-radius:8px; cursor:pointer; border:1px solid #253447; color:#cfe4ff; }
    .region-tab.active { background:#14365c; border-color:#2b5482; }
    .wrap { display:grid; grid-template-columns: 1.7fr 1fr; gap:16px; padding:16px; }
    #map { width:100%; height:520px; background:#0e141c; border-radius:10px; border:1px solid #223042; }
    .card { background:#121821; border:1px solid #223042; border-radius:10px; padding:14px; }
    .card h3 { margin:4px 0 10px; }
    .row { display:flex; align-items:center; justify-content:space-between; gap:8px; }
    .muted { color:#9fb3c8; font-size:12px; }
    .chip { background:#233349; padding:3px 8px; border-radius:999px; font-size:12px; color:#b6d6ff; border:1px solid #2b4b73; }
    .prox-item { padding:10px 0; border-top:1px dashed #253447; }
    .prox-item:first-child { border-top:none; }
    .prox-row { display:flex; justify-content:space-between; align-items:center; margin-bottom:6px; }
    .sev { font-size:11px; padding:3px 8px; border-radius:999px; border:1px solid #2c3f56; }
    .sev-3 { background:#3b0b0f; color:#ffb2b5; border-color:#6e1f27; }
    .sev-2 { background:#3b2a0b; color:#ffd88a; border-color:#6e561f; }
    .sev-1 { background:#1d2a36; color:#b8d5f1; border-color:#284259; }
    .distance { color:#ffd88a; font-weight:600; }
    .title { font-weight:600; margin-bottom:4px; }
    .meta { color:#9fb3c8; font-size:12px; margin-bottom:6px; }
    .snippet { color:#d6e6f7; font-size:13px; line-height:1.35; }
    .empty { color:#9fb3c8; font-style:italic; padding:6px 0; }
    .controls { display:flex; align-items:center; gap:10px; }
    select { background:#0f1620; color:#e9eef5; border:1px solid #27415c; border-radius:8px; padding:6px 8px; }
    a.btn { background:#184774; border:1px solid #2b5482; color:#cfe4ff; text-decoration:none; padding:8px 10px; border-radius:8px; }
  </style>
</head>
<body>
  <header>
    <div class="brand">SRO <span style="color:#7ec8ff">INTELLIGENCE</span></div>
    <div class="tabs">
      <div class="region-tab active" data-region="Global">GLOBAL</div>
      <div class="region-tab" data-region="AMER">AMER</div>
      <div class="region-tab" data-region="EMEA">EMEA</div>
      <div class="region-tab" data-region="APJC">APJC</div>
      <div class="region-tab" data-region="LATAM">LATAM</div>
    </div>
    <div class="controls">
      <a class="btn" href="reports/global_latest.html" target="_blank" rel="noopener">Daily Briefings</a>
    </div>
  </header>

  <div class="wrap">
    <div>
      <div id="map"></div>
    </div>

    <div class="card">
      <div class="row">
        <h3 style="margin:0">Proximity Alerts</h3>
        <div class="controls">
          <label class="muted">Within</label>
          <select id="radius-select" title="Alert radius (km)"></select>
        </div>
      </div>
      <div class="muted" style="margin-top:2px;">Updated: <span id="prox-updated">â€”</span></div>
      <div id="proximity-alerts-container" style="margin-top:10px;"></div>
    </div>
  </div>

  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
  <script src="app.js"></script>
</body>
</html>
